<div
  style="display: flex; flex-direction: column; align-items: center"
  id="formBusqueda"
>
  <mat-card
    style="background-color: #03678f; color: white; border-radius: 10px"
    MatCardAppearance="outlined"
  >
    <mat-card-content>
      <h3 style="margin: 0%; font-weight: bold">Gestión de syllabus</h3>
    </mat-card-content>
  </mat-card>
  <mat-card
    style="
      max-width: 75%;
      background-color: #ffff66;
      border-radius: 15px;
      margin: 10px;
    "
    MatCardAppearance="outlined"
  >
    <mat-card-content>
      <p style="margin: 0%; text-align: justify; text-align-last: center">
        Usuario, en el actual módulo usted podrá realizar las consultas que
        requiera del o los Syllabus de interés; para ello debera indicar unas
        variables iniciales que le facilitarán la Búsqueda.
      </p>
    </mat-card-content>
  </mat-card>
  <mat-card style="width: calc(100% - 60px)">
    <mat-card-content>
      <div class="container-border">
        <h4>Variables de inicio</h4>
        <mat-vertical-stepper linear #stepper>
          <mat-step [stepControl]="formFacultad">
            <form [formGroup]="formFacultad">
              <ng-template matStepLabel
                >Facultad {{ facultadSelectedName }}</ng-template
              >
              <mat-form-field appearance="fill" [style.width.%]="100">
                <mat-label>Facultad</mat-label>
                <input
                  type="text"
                  matInput
                  [formControl]="formFacultad.controls['facultadCtrl']"
                  [matAutocomplete]="autoFacultades"
                  (focus)="onFocusFacultad()"
                />
                <mat-autocomplete
                  #autoFacultades="matAutocomplete"
                  [displayWith]="displayFn"
                  (optionSelected)="onChangeFacultad($event.option.value)"
                >
                  <mat-option
                    *ngFor="let facultad of opcionesFiltradasFacultades | async"
                    [value]="facultad"
                  >
                    {{ facultad.Nombre }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </form>
          </mat-step>
          <mat-step [stepControl]="formProyectoCurricular">
            <form [formGroup]="formProyectoCurricular">
              <ng-template matStepLabel
                >Proyecto / Programa Curricular
                {{ proyectoCurricularSelectedName }}</ng-template
              >
              <mat-form-field appearance="fill" [style.width.%]="100">
                <mat-label>Proyecto / Programa Curricular</mat-label>
                <input
                  type="text"
                  matInput
                  [formControl]="
                    formProyectoCurricular.controls['proyectoCurricularCtrl']
                  "
                  [matAutocomplete]="autoProyectosCurriculares"
                  (focus)="onFocusProyectoCurricular()"
                />
                <mat-autocomplete
                  #autoProyectosCurriculares="matAutocomplete"
                  [displayWith]="displayFn"
                  (optionSelected)="
                    onChangeProyectoCurricular($event.option.value)
                  "
                >
                  <mat-option
                    *ngFor="
                      let proyecto_curricular of opcionesFiltradasProyectosCurriculares
                        | async
                    "
                    [value]="proyecto_curricular"
                  >
                    {{ proyecto_curricular.Nombre }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </form>
          </mat-step>
          <mat-step [stepControl]="formPlanEstudios">
            <form [formGroup]="formPlanEstudios">
              <ng-template matStepLabel
                >Plan de estudios {{ planEstudiosSelectedName }}</ng-template
              >

              <mat-form-field appearance="fill" [style.width.%]="100">
                <mat-label>Plan de estudios</mat-label>
                <input
                  type="text"
                  matInput
                  [formControl]="formPlanEstudios.controls['planEstudiosCtrl']"
                  [matAutocomplete]="autoPlanesEstudios"
                  (focus)="onFocusPlanEstudios()"
                />
                <mat-autocomplete
                  #autoPlanesEstudios="matAutocomplete"
                  [displayWith]="displayFnPlanesEstudio"
                  (optionSelected)="onChangePlanEstudios($event.option.value)"
                >
                  <mat-option
                    *ngFor="
                      let plan_estudios of opcionesFiltradasPlanesEstudio
                        | async
                    "
                    [value]="plan_estudios"
                  >
                    {{ plan_estudios.cra_nombre }}, PLAN DE ESTUDIO #{{
                      plan_estudios.pen_nro
                    }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </form>
          </mat-step>
          <mat-step [stepControl]="formEspaciosAcademicos">
            <form [formGroup]="formEspaciosAcademicos">
              <ng-template matStepLabel
                >Espacio Académico
                {{ espacioAcademicoSelectedName }}</ng-template
              >
              <mat-form-field appearance="fill" [style.width.%]="100">
                <mat-label>Espacio Académico</mat-label>
                <input
                    type="text"
                    matInput
                    [formControl]="formEspaciosAcademicos.controls['espaciosAcademicosCtrl']"
                    [matAutocomplete]="autoEspaciosAcademicos"
                    (focus)="onFocusEspaciosAcademicos()"
                />
                <mat-autocomplete
                    #autoEspaciosAcademicos="matAutocomplete"
                    [displayWith]="displayFnEspaciosAcademicos"
                    (optionSelected)="onChangeEspacioAcademico($event.option.value)"
                >
                    <mat-option
                        *ngFor="let espacio_academico of opcionesFiltradasEspaciosAcademicos | async"
                        [value]="espacio_academico"
                    >
                        {{ espacio_academico.asi_nombre }}
                    </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </form>
          </mat-step>
        </mat-vertical-stepper>
      </div>
    </mat-card-content>
  </mat-card>
  <app-listar-syllabus *ngIf="mostrartabla"></app-listar-syllabus>
</div>
